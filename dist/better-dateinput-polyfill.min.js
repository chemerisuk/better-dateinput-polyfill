/**
 * better-dateinput-polyfill: input[type=date] polyfill
 * @version 4.0.0-beta.2 Sat, 17 Apr 2021 16:07:26 GMT
 * @link https://github.com/chemerisuk/better-dateinput-polyfill
 * @copyright 2021 Maksim Chemerisuk
 * @license MIT
*/
!function(){"use strict";var t=window,e=document,i=e.documentElement,a="ScriptEngineMajorVersion"in t;function n(t,e){return Array.prototype.slice.call(t.querySelectorAll(e),0)}function r(t,e){return"string"==typeof e?Array(t+1).join(e):Array.apply(null,Array(t)).map(e).join("")}function o(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="100%" viewBox="0 0 16 16"><path d="'+t+'"/></svg>'}function s(t,i){var a=e.createElement("style");a.type="text/css",a.innerHTML=t,i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a)}var l=function(){try{(new Date).toLocaleString("_")}catch(t){return t instanceof RangeError}return!1}();function u(t){var e=(t||"?").split(/\D/).map((function(t){return parseInt(t)})),i=e[0],a=e[1],n=e[2],r=new Date(i,a-1,n,12,0);return isNaN(r.getTime())?null:r}function d(t){return[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-")}var h=function(){function t(t,e){this._input=t,this._formatOptions=e,this._initPicker()}var h=t.prototype;return h._initPicker=function(){var t=this;this._picker=e.createElement("dateinput-picker"),this._picker.setAttribute("aria-hidden",!0),this._input.parentNode.insertBefore(this._picker,this._input);var i=e.createElement("object");i.type="text/html",i.width="100%",i.height="100%",a||(i.data="about:blank"),i.onload=function(e){t._initContent(e.target.contentDocument),delete i.onload},this._picker.appendChild(i),a&&(i.data="about:blank")},h._initContent=function(t){var e=this,i=new Date,a=this._getLimitationDate("min"),u=this._getLimitationDate("max"),d=a?a.getFullYear():i.getFullYear()-30,h=u?u.getFullYear():i.getFullYear()+30;t.body.innerHTML='<header><a role="button" rel="prev">'+o("M11.5 14.06L1 8L11.5 1.94z")+'</a> <time id="caption" aria-live="polite"></time> <a role="button" rel="next">'+o("M15 8L4.5 14.06L4.5 1.94z")+'</a></header><table role="grid" aria-labelledby="#caption"><thead id="weekdays">'+r(7,(function(t,i){return"<th>"+(a=i,n=e._formatOptions,r=new Date(1971,1,a+(n.hour12?0:1)),(l?r.toLocaleString(n.locale,{weekday:"short"}):r.toUTCString().split(",")[0].slice(0,2))+"</th>");var a,n,r}))+'</thead><tbody id="days">'+r(6,"<tr>"+r(7,"<td>")+"</tr>")+'</tbody></table><div aria-hidden="true" aria-labelledby="#caption"><ol id="months">'+r(12,(function(t,i){return'<li data-month="'+i+'">'+(a=i,n=e._formatOptions,r=new Date(25e8*(a+1)),l?r.toLocaleString(n.locale,{month:"short"}):r.toUTCString().split(" ")[2]);var a,n,r}))+'</ol><ol id="years">'+r(h-d+1,(function(t,e){return'<li data-year="'+(d+e)+'">'+(d+e)}))+"</ol></div>",s("body{cursor:default;font-family:system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;margin:0}[aria-labelledby]{bottom:0;height:87.5vh;left:0;position:absolute;text-align:center;width:100%}[aria-labelledby][aria-hidden=true]{visibility:hidden}header{display:block;height:12.5vh;line-height:12.5vh;overflow:hidden;text-align:center}[role=button]{text-align:center;transition:transform 75ms ease-in;width:14.28571vw}[role=button][rel=prev]{float:left}[role=button][rel=prev]:active{transform:translateX(-2px)}[role=button][rel=next]{float:right}[role=button][rel=next]:active{transform:translateX(2px)}[role=button] svg{pointer-events:none;width:16px;height:100%}@media (hover:hover){[role=button]:hover{transform:scale(1.2)}}[aria-live=polite]{border:1px dotted transparent;color:#007bff;font-weight:700;margin:auto 0;overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap}@media (hover:hover){[aria-live=polite]:hover{border-bottom-color:inherit}}table{border-spacing:0;table-layout:fixed}th{box-sizing:border-box;height:12.5vh;padding-bottom:8px;vertical-align:middle}td{border-radius:var(--border-radius);padding:0}td:not([aria-selected]){color:#ccc}td[aria-current=date]{font-weight:700}td[aria-disabled=true]{background-color:#ececec;border-radius:0;color:#ccc;cursor:not-allowed}#months,#years{box-sizing:border-box;float:left;height:100%;line-height:7.29167vh;list-style:none;margin:0;overflow-x:hidden;overflow-y:scroll;padding:0 4px;width:50%}@media (hover:hover){[data-date]:hover,[data-month]:hover,[data-year]:hover{background-color:#ececec}}[data-date][aria-selected=true],[data-month][aria-selected=true],[data-year][aria-selected=true]{background-color:#007bff;color:#fff}",t.head),this._caption=n(t,"[aria-live=polite]")[0],this._pickers=n(t,"[aria-labelledby]"),t.addEventListener("mousedown",this._onMouseDown.bind(this)),t.addEventListener("contextmenu",(function(t){return t.preventDefault()})),t.addEventListener("dblclick",(function(t){return t.preventDefault()})),this.show()},h._getLimitationDate=function(t){return this._input?u(this._input.getAttribute(t)):null},h._onMouseDown=function(t){var e=t.target;t.preventDefault(),t.button||(e===this._caption?this._togglePickerMode():"button"===e.getAttribute("role")?this._clickButton(e):e.hasAttribute("data-date")?this._clickDate(e):(e.hasAttribute("data-month")||e.hasAttribute("data-year"))&&this._clickMonthYear(e))},h._clickButton=function(t){var e=this.getCaptionDate(),i="prev"===t.getAttribute("rel")?-1:1,a=this.isAdvancedMode();a?e.setFullYear(e.getFullYear()+i):e.setMonth(e.getMonth()+i),this.isValidValue(e)&&(this.render(e),a&&(this._input.valueAsDate=e))},h._clickDate=function(t){"true"!==t.getAttribute("aria-disabled")&&(this._input.value=t.getAttribute("data-date"),this.hide())},h._clickMonthYear=function(t){var e=parseInt(t.getAttribute("data-month")),i=parseInt(t.getAttribute("data-year"));if(e>=0||i>=0){var a=this.getCaptionDate();isNaN(e)||a.setMonth(e),isNaN(i)||a.setFullYear(i),this.isValidValue(a)&&(this._renderAdvancedPicker(a,!1),this._input.valueAsDate=a)}},h._togglePickerMode=function(){var t=this;this._pickers.forEach((function(e,i){var a=t._input.valueAsDate||new Date,n="true"===e.getAttribute("aria-hidden");0===i?n&&t._renderCalendarPicker(a):n&&t._renderAdvancedPicker(a),e.setAttribute("aria-hidden",!n)}))},h._renderCalendarPicker=function(t){var e=new Date,i=this._input.valueAsDate,a=this._getLimitationDate("min"),r=this._getLimitationDate("max"),o=new Date(t.getFullYear(),t.getMonth());o.setDate((this._formatOptions.hour12?0:0===o.getDay()?-6:1)-o.getDay()),n(this._pickers[0],"td").forEach((function(n){o.setDate(o.getDate()+1);var s=d(o);o.getMonth()===t.getMonth()?i&&s===d(i)?n.setAttribute("aria-selected",!0):n.setAttribute("aria-selected",!1):n.removeAttribute("aria-selected"),s===d(e)?n.setAttribute("aria-current","date"):n.removeAttribute("aria-current"),a&&o<a||r&&o>r?n.setAttribute("aria-disabled",!0):n.removeAttribute("aria-disabled"),n.textContent=o.getDate(),n.setAttribute("data-date",s)})),this.setCaptionDate(t)},h._renderAdvancedPicker=function(t,e){if(void 0===e&&(e=!0),n(this._pickers[1],"[aria-selected]").forEach((function(t){t.removeAttribute("aria-selected")})),t){var i=n(this._pickers[1],'[data-month="'+t.getMonth()+'"]')[0],a=n(this._pickers[1],'[data-year="'+t.getFullYear()+'"]')[0];i.setAttribute("aria-selected",!0),a.setAttribute("aria-selected",!0),e&&(i.parentNode.scrollTop=i.offsetTop,a.parentNode.scrollTop=a.offsetTop),this.setCaptionDate(t)}},h.isValidValue=function(t){var e=this._getLimitationDate("min"),i=this._getLimitationDate("max");return!(e&&t<e||i&&t>i)},h.isAdvancedMode=function(){return"true"===this._pickers[0].getAttribute("aria-hidden")},h.getCaptionDate=function(){return new Date(this._caption.getAttribute("datetime"))},h.setCaptionDate=function(t){var e,i;this._caption.textContent=(e=t,i=this._formatOptions,l?e.toLocaleString(i.locale,{month:"long",year:"numeric"}):e.toUTCString().split(" ").slice(2,4).join(" ")),this._caption.setAttribute("datetime",t.toISOString())},h.isHidden=function(){return"true"===this._picker.getAttribute("aria-hidden")},h.show=function(){if(this.isHidden()){var t=this._input,e=this._picker.getBoundingClientRect(),a=t.getBoundingClientRect(),n=a.height;i.clientHeight<a.bottom+e.height&&(n=-e.height),this._picker.style.marginTop=n+"px",this._renderCalendarPicker(this._input.valueAsDate||new Date),this._picker.removeAttribute("aria-hidden")}},h.hide=function(){this._picker.setAttribute("aria-hidden",!0),this.reset()},h.reset=function(){this._pickers.forEach((function(t,e){t.setAttribute("aria-hidden",!!e)}))},h.render=function(t){this.isAdvancedMode()?this._renderAdvancedPicker(t):this._renderCalendarPicker(t)},t}(),c=n(e,"meta[name=dateinput-polyfill-format]")[0],p=function(){function t(t){this._input=t,this._valueInput=this._createValueInput(t),this._formatOptions=this._createFormatOptions(),this._input.addEventListener("focus",this._showPicker.bind(this)),this._input.addEventListener("click",this._showPicker.bind(this)),this._input.addEventListener("blur",this._hidePicker.bind(this)),this._input.addEventListener("keydown",this._onKeydown.bind(this)),this._initInput()}var a=t.prototype;return a._initInput=function(){var t=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");Object.defineProperty(this._input,"value",{configurable:!1,enumerable:!0,get:this._getValue.bind(this),set:this._setValue.bind(this,t.set)}),Object.defineProperty(this._input,"valueAsDate",{configurable:!1,enumerable:!0,get:this._getDate.bind(this),set:this._setDate.bind(this,t.set)}),this._input.type="text",this._input.setAttribute("inputmode","none"),this._input.readOnly=!0,this._input.value=this._getValue(),this._input.defaultValue=t.get.call(this._input)},a._getValue=function(){return this._valueInput.value},a._setValue=function(t,e){this._setDate(t,u(e))},a._getDate=function(){return u(this._getValue())},a._setDate=function(t,e){var i,a;t.call(this._input,e&&(i=e,a=this._formatOptions,l?i.toLocaleString(a.locale,a):i.toUTCString().split(" ").slice(0,4).join(" "))||""),t.call(this._valueInput,e&&d(e)||"")},a._createValueInput=function(t){var i=e.createElement("input");return i.style.display="none",i.setAttribute("hidden",""),i.disabled=t.disabled,t.name&&(i.name=t.name,t.removeAttribute("name")),t.value&&(i.value=i.defaultValue=t.value),t.hasAttribute("form")&&i.setAttribute("form",t.getAttribute("form")),t.parentNode.insertBefore(i,t.nextSibling)},a._createFormatOptions=function(){var t=this._input.lang||i.lang,e=this._input.getAttribute("data-format");return!e&&c&&(e=c.content),function(t,e){if(!l)return{};var i;try{i=new Intl.DateTimeFormat(t,JSON.parse(e||"{}"))}catch(t){console.warn("Fallback to default date format because of error:",t),i=new Intl.DateTimeFormat}return i.resolvedOptions()}(t,e)},a._onKeydown=function(t){var e=t.key;if("Enter"===e)this._pickerApi.isHidden()||(t.preventDefault(),this._hidePicker());else if(" "===e)t.preventDefault(),this._showPicker();else if("Backspace"===e)t.preventDefault(),this._input.value="",this._pickerApi.reset(),this._pickerApi.render(new Date);else{var i=0;if("ArrowDown"===e||"Down"===e?i=7:"ArrowUp"===e||"Up"===e?i=-7:"ArrowLeft"===e||"Left"===e?i=-1:"ArrowRight"!==e&&"Right"!==e||(i=1),!i)return;t.preventDefault();var a=this._pickerApi.getCaptionDate();this._pickerApi.isAdvancedMode()?7===Math.abs(i)?a.setMonth(a.getMonth()+i/7):a.setFullYear(a.getFullYear()+i):a.setDate(a.getDate()+i),this._pickerApi.isValidValue(a)&&(this._input.valueAsDate=a,this._pickerApi.render(a))}},a._showPicker=function(){this._pickerApi?this._pickerApi.show():this._pickerApi=new h(this._input,this._formatOptions)},a._hidePicker=function(){this._pickerApi.hide()},t}(),f="dateinput-polyfill",_="__dateinput-polyfill__";var g,b=n(e,"meta[name=dateinput-polyfill-media]")[0];(b?t.matchMedia(b.content):a||((g=e.createElement("input")).type="date",g.value="_","_"===g.value))&&(s("@keyframes dateinput-polyfill{0%{opacity:.99};to{opacity:1};}input[type=date]{animation:dateinput-polyfill 1ms!important}dateinput-picker{background:#fff;box-shadow:0 8px 24px rgba(0,0,0,.2);height:360px;position:absolute;width:315px;z-index:2147483647}dateinput-picker[aria-hidden=true]{visibility:hidden}",e.head),e.addEventListener("animationstart",(function(t){if(t.animationName===f){var e=t.target;e[_]||(e[_]=new p(e))}})))}();
