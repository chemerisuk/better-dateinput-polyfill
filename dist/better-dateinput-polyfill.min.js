/**
 * better-dateinput-polyfill: input[type=date] polyfill for better-dom
 * @version 2.0.2 Wed, 02 Nov 2016 16:33:36 GMT
 * @link https://github.com/chemerisuk/better-dateinput-polyfill
 * @copyright 2016 Maksim Chemerisuk
 * @license MIT
 */
!function(t,e,a,i,n,r,o,d){"use strict";var s=function(t,e){return Array(t+1).join(e)},l=t.get("documentElement"),c="btr-dateinput-calendar",h=function(t,e){return"en_US"===l.lang?t:e},u=function(t){return t.toISOString().split("T")[0]},b=function(t){return["min","max"].map(function(e){return new Date(t.get(e)||"")})},f=t.create('<time is="local-time" aria-hidden="true" class="btr-dateinput-value">'),p=t.create('<div class="'+c+'"><p class="'+c+'-header">'+s(2,'<a unselectable="on"></a>')+'<time is="local-time" class="'+c+'-caption" data-format="MMMM yyyy" aria-hidden="true" unselectable="on"></p><table class="'+c+'-days" aria-hidden="true"><thead>'+s(7,'<th unselectable="on"><time is="local-time" data-format="E">')+'</thead><tbody class="'+c+'-body">'+s(7,"<tr>"+s(7,"<td>")+"</tr>")+'</tbody></table><table class="'+c+'-months" aria-hidden="true"><tbody>'+s(3,"<tr>"+s(4,'<td><time is="local-time" data-format="MMM">'))+"</tbody></table></div>");p.find("."+c+"-days").findAll("time").forEach(function(t,e){t.set("datetime",new Date(h(2001,2002),0,e).toISOString())}),p.find("."+c+"-months").findAll("time").forEach(function(t,e){t.set("datetime","2001-"+(++e<10?"0"+e:e)+"-02")}),t.extend("input[type=date]",{constructor:function(){if(this._isNative())return!1;var t=p.clone(!0),e=f.clone(!0),a=t.find("."+c+"-body"),i=t.find("."+c+"-months"),n=t.find("."+c+"-caption"),r=this._invalidatePicker.bind(this,n,i,a,t);e.set("data-format",this.get("data-format")||"E, dd MMM yyyy").css(this.css(["color","width","font","padding","text-align","border-width","box-sizing"])).css({"line-height":""}).on("click",this._clickLabel.bind(this)).watch("datetime",r),this.css("color",document.addEventListener?"transparent":this.css("background-color")).on(["focus","click"],this._focusPicker.bind(this,t)).on("blur",this._blurPicker.bind(this,t)).on("change",this._syncValue.bind(this,"value",e)).on("keydown",["which"],this._keydownPicker.bind(this,t)).before(t.hide(),e).closest("form").on("reset",this._syncValue.bind(this,"defaultValue",e)),t.watch("aria-expanded",r).on("mousedown",["target"],this._clickPicker.bind(this,t,i)).css("z-index",1+(0|this.css("z-index"))),n.on("click",this._clickPickerCaption.bind(this,t)),this._syncValue("defaultValue",e),this.matches(":focus")&&t.show()},_isNative:function(){var t=this.get("data-polyfill"),e="orientation"in window?"mobile":"desktop";return"none"===t||(!t||t!==e&&"all"!==t?"date"===this[0].type||(this.set("defaultValue",this.value()),"_"!==this.value("_").value()):(this.set("type","text"),!1))},_invalidatePicker:function(t,e,a,i){var n,r,o,d="true"===i.get("aria-expanded"),s=new Date(this.value());isNaN(s.getTime())&&(s=new Date),r=s.getUTCMonth(),o=s.getUTCDate(),n=s.getUTCFullYear();var l=b(this),u=new Date(Date.UTC(n,r,0));d?e.findAll("td").forEach(function(t,e){u.setUTCMonth(e);var a=r-u.getUTCMonth(),i=c;u<l[0]||u>l[1]?i+="-out":a?i="":i+="-today",t.set("class",i)}):(u.setUTCDate(u.getUTCDate()-u.getUTCDay()-h(1,0)),a.findAll("td").forEach(function(t){u.setUTCDate(u.getUTCDate()+1);var e=r-u.getUTCMonth(),a=c;n!==u.getUTCFullYear()&&(e*=-1),u<l[0]||u>l[1]?a+="-out":e>0?a+="-past":e<0?a+="-future":o===u.getUTCDate()?a+="-today":a="",t.set("class",a).data("ts",u.getTime()).value(u.getUTCDate())})),t.set("data-format",d?"yyyy":"MMMM yyyy").set("datetime",new Date(n,r).toISOString())},_syncValue:function(t,e){var a=this.get(t),i=new Date(a);this.value(a),isNaN(i)?e.set("datetime",""):e.set("datetime",new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()).toISOString())},_clickPicker:function(t,e,a){var i;if(a.matches("a")){i=new Date(this.value()),isNaN(i.getTime())&&(i=new Date);var n=a.next("a")[0]?-1:1;"true"===t.get("aria-expanded")?i.setUTCFullYear(i.getUTCFullYear()+n):i.setUTCMonth(i.getUTCMonth()+n)}else e.contains(a)?(a=a.closest("time"),i=new Date(this.value()),isNaN(i.getTime())&&(i=new Date),i.setUTCMonth(new Date(a.get("datetime")).getUTCMonth()),t.hide()):a.matches("td")&&(i=a.data("ts"),isNaN(i)||(i=new Date(i),t.hide()));if(null!=i){var r=b(this);i<r[0]?i=r[0]:i>r[1]&&(i=r[1]),this.value(u(i)).fire("change")}return!1},_keydownPicker:function(t,s){var l,c;if(t.matches(":hidden")&&s===i)return!0;if(s===e)this.get("readonly")||t.set("aria-expanded","false").toggle();else if(s===n||s===a||s===i)t.hide();else if(s===r||s===o)this.value("").fire("change");else if(s===d)t.set("aria-expanded",String("true"!==t.get("aria-expanded")));else if(c=new Date(this.value()),isNaN(c.getTime())&&(c=new Date),74===s||40===s?l=7:75===s||38===s?l=-7:76===s||39===s?l=1:72!==s&&37!==s||(l=-1),l){var h="true"===t.get("aria-expanded");!h||40!==s&&38!==s?!h||37!==s&&39!==s?c.setUTCDate(c.getUTCDate()+l):c.setUTCMonth(c.getUTCMonth()+(l>0?1:-1)):c.setUTCMonth(c.getUTCMonth()+(l>0?4:-4));var f=b(this);c<f[0]||c>f[1]||this.value(u(c)).fire("change")}return s===a},_blurPicker:function(t){t.hide()},_focusPicker:function(t){var e=this;if(this.get("readonly"))return!1;var a=this.offset(),i=t.offset(),n=a.height;l.clientHeight<a.bottom+i.height&&(n=-i.height),t.css("margin-top",n).set("aria-expanded","false").show(),setTimeout(function(){var t=e[0];if("selectionStart"in t)t.selectionStart=0,t.selectionEnd=0;else{var a=t.createTextRange();a.moveStart("character",0),a.collapse(),a.moveEnd("character",0),a.select()}},0)},_clickPickerCaption:function(t){t.set("aria-expanded",String("true"!==t.get("aria-expanded")))},_clickLabel:function(){this.fire("focus")}})}(window.DOM,32,9,13,27,8,46,17),DOM.importStyles("@media screen",".btr-dateinput-value{position:absolute;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-style:solid;border-color:transparent;pointer-events:none}.btr-dateinput-calendar{position:absolute;visibility:hidden;display:inline-block;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#FFF;border-bottom:1px solid #DDD;overflow:hidden;border-radius:3px;-webkit-box-shadow:0 .25em .5em rgba(0,0,0,.2);box-shadow:0 .25em .5em rgba(0,0,0,.2);font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:.85em;text-align:center;opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;-webkit-transition:.1s ease-out;transition:.1s ease-out;width:17em;max-height:18.25em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.btr-dateinput-calendar-months{position:absolute;margin-top:1px;top:2.5em;left:0;visibility:hidden}.btr-dateinput-calendar[aria-expanded=true]{max-height:14.5em}.btr-dateinput-calendar[aria-expanded=true] .btr-dateinput-calendar-months{visibility:inherit}.btr-dateinput-calendar[aria-hidden=true]{opacity:0;-webkit-transform:skew(-25deg) scaleX(.75);-ms-transform:skew(-25deg) scaleX(.75);transform:skew(-25deg) scaleX(.75)}.btr-dateinput-calendar-header{position:relative;margin:0;height:2.5em;line-height:2.5em;font-weight:700;white-space:nowrap;background:#34b3df;text-shadow:0 1px 0 #555;border-bottom:1px solid #207fb1}.btr-dateinput-calendar-header>a{width:2.5em;height:2.5em;position:absolute;left:0;top:0;color:inherit}.btr-dateinput-calendar-header>time{display:block}.btr-dateinput-calendar-header>a:before{content:'\\25C4'}.btr-dateinput-calendar-header>a:before{font-size:.85em}.btr-dateinput-calendar-header>a+a{left:auto;right:0}.btr-dateinput-calendar-header>a+a:before{content:'\\25BA'}.btr-dateinput-calendar-days,.btr-dateinput-calendar-months{width:100%;table-layout:fixed;border-spacing:0;border-collapse:collapse;color:#555;background:#FFF;border-radius:3px;border:1px solid #DDD;border-bottom:0}.btr-dateinput-calendar-days>thead{border-top:1px solid #EEE;border-bottom:1px solid #ababab;font-size:.85em;background:#DDD;font-weight:700;text-shadow:0 1px 0 #f3f3f3}.btr-dateinput-calendar td,.btr-dateinput-calendar th{width:2.5em;height:2.25em;line-height:2.25;padding:0;text-align:center}.btr-dateinput-calendar-months td{line-height:4;height:4em}.btr-dateinput-calendar-months time{display:block}.btr-dateinput-calendar-past,.btr-dateinput-calendar-future{color:#ababab}.btr-dateinput-calendar-out{color:#ababab;text-shadow:0 1px 0 #FFF}.btr-dateinput-calendar-today{color:#FFF;background-color:#34b3df;text-shadow:0 1px 0 #555;font-weight:700}.btr-dateinput-calendar-out,.btr-dateinput-calendar td:hover{background-color:#f3f3f3;background-color:rgba(0,0,0,.05)}.btr-dateinput-calendar-header>a:hover,td.btr-dateinput-calendar-today:hover{background-color:#207fb1;text-decoration:none}.btr-dateinput-value+input::-moz-placeholder{color:#ababab}.btr-dateinput-value+input:-ms-input-placeholder{color:#ababab!important}.btr-dateinput-value+input::-webkit-input-placeholder{color:#ababab}");